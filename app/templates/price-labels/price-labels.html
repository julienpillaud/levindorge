{% extends "base.html" %}
{% block content %}
  <div class="h-dvh flex flex-col">
    {% include '_includes/_navbar.html' %}
    <div class="flex flex-col flex-1 px-4 py-4 gap-4 min-h-0">
      {# -------------------------------------------------------------------- #}
      {# Card #}
      <div class="card bg-base-200 shadow-sm">
        <div class="card-body flex flex-row p-4 justify-between">
          <div class="flex items-center gap-4 py-2">
            <h1 class="card-title text-2xl">Etiquettes</h1>
            <div id="items-count" class="badge badge-soft badge-accent badge-lg">
              {{ files | length }}
            </div>
          </div>
        </div>
      </div>
      {# -------------------------------------------------------------------- #}
      {% if files %}
        <div class="overflow-x-auto rounded-box border border-base-300 md:w-8/12 md:mx-auto">
          <table class="table table-pin-rows table-sm">
            <thead>
              <tr>
                <th></th>
                <th>Type</th>
                <th>Magasin</th>
                <th>Date</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              {% for file in files %}
                <tr>
                  <td>{{ file.id }}</td>
                  <td>{{ file.type }}</td>
                  <td>{{ file.store_name }}</td>
                  <td>{{ (file.date | local_timezone).strftime("%d / %m / %Y - %H:%M") }}</td>
                  <td class="w-40">
                    <button class="btn btn-soft btn-xs">
                      <a
                        target="_blank"
                        rel="noopener noreferrer"
                        href="{{ url_for('get_price_labels_file', file=file.file) }}"
                      >
                        Ouvrir
                      </a>
                    </button>
                    <button class="btn btn-soft btn-xs btn-error">
                      <a href="{{ url_for('delete_price_labels_file', file=file.file) }}">
                        Supprimer
                      </a>
                    </button>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% endif %}
      {# -------------------------------------------------------------------- #}
    </div>
  </div>
{% endblock %}
